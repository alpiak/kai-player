(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{439:function(t,e,n){"use strict";n.r(e);var a=n(448),r=n(444);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);n(459);var i=n(1),u=Object(i.a)(r.default,a.a,a.b,!1,null,"3c851d17",null);u.options.__file="src\\app\\source\\list-pane.vue",e.default=u.exports},442:function(t,e,n){var a=n(458);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0};n(2)(a,r),a.locals&&(t.exports=a.locals)},443:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(10)),o=a(n(9)),i=a(n(14)),u=n(12),l=a(n(0)),s=n(29),c=n(17),d=a(n(31)),p=a(n(128)),f=a(n(282));e.default={components:{draggable:p.default,vueLoading:f.default},data:function(){return{sourceSelected:null,channelSelected:null,tracks:[],loading:!1}},computed:(0,i.default)({sources:function(){return this.sourceGroup.get()},queue:function(){return this.queueGroup.get(this.queueGroup.active)},player:function(){return this.playerController.player},playingQueueIndex:{get:function(){return this.$store.state.queueModule.playingQueueIndex},set:function(t){this[c.UPDATE_PLAYING_QUEUE_INDEX](t)}},activeVisualizerType:{get:function(){return this.visualizer.activeType},set:function(t){this[c.UPDATE_ACTIVE_VISUALIZER_TYPE](t)}}},(0,u.mapState)({sourceGroup:function(t){return t.sourceModule.sourceGroup},queueGroup:function(t){return t.queueModule.queueGroup},playerController:function(t){return t.playerModule.playerController},visualizer:function(t){return t.visualizationModule.visualizer}})),methods:(0,i.default)({addToPlayback:function(){var t=(0,o.default)(r.default.mark(function t(e){var n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this[c.ADD_TRACK]({track:e}),this[c.UPDATE_QUEUE]({index:this.queueGroup.active,active:this.queue.length-1}),n=this.player.playing,t.next=5,this.playerController.playTrack(e);case 5:this.playingQueueIndex=this.queueGroup.active,"random"===this.activeVisualizerType&&(this.activeVisualizerType="random"),this[c.VISUALIZER_LISTEN_TO](this.player._sound._sounds[0]._node,e.picture),this[c.VISUALIZER_LOAD_RESOURCE]({picture:e.picture}),n||this[c.SWITCH_TO_VISUALIZER](),this[c.UPDATE_TRACK]({index:this.queue.active,duration:1e3*this.player.duration});case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),handleContextMenu:function(t){var e=this;this.$emit("contextMenu",function(n){"add"===n?e.addToPlayback(t):"import"===n&&(e[c.INSERT_QUEUE]({index:e.queueGroup.length,queue:new d.default({name:e.channelSelected.name+"("+(0,l.default)().format("YYYY-MM-DD")+")"})}),e[c.UPDATE_QUEUE_GROUP]({active:e.queueGroup.length-1}),e.addToPlayback(e.tracks[0]),e.tracks.slice(1).forEach(function(t){e[c.ADD_TRACK]({track:t})}))})},fixDrag:function(){var t=document.querySelector(".sortable-fallback");t&&(t.style.width=this.$refs.list.offsetWidth)}},(0,u.mapMutations)([c.UPDATE_QUEUE_GROUP,c.INSERT_QUEUE,c.UPDATE_QUEUE,c.UPDATE_PLAYING_QUEUE_INDEX,c.ADD_TRACK,c.UPDATE_TRACK,c.UPDATE_ACTIVE_VISUALIZER_TYPE,c.SWITCH_TO_VISUALIZER,c.TRIGGER_BACKGROUND_EVENT,c.VISUALIZER_LISTEN_TO,c.VISUALIZER_LOAD_RESOURCE])),filters:{formatDuration:s.formatDuration},created:function(){var t=this;(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.sources.length&&(t.sourceSelected=t.sources[0],t.channelSelected=t.sourceSelected.get(0));case 1:case"end":return e.stop()}},e,t)}))()},watch:{channelSelected:function(){var t=(0,o.default)(r.default.mark(function t(e){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=9;break}return this.loading=!0,t.next=4,e.get();case 4:this.tracks=t.sent,this.$refs.list.scrollTop=0,this.loading=!1,t.next=10;break;case 9:this.tracks=[];case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),sources:function(t){this.sourceSelected=t[0],this.channelSelected=this.sourceSelected.get(0)},sourceSelected:function(t){this.channelSelected=t.get(0)}}}},444:function(t,e,n){"use strict";n.r(e);var a=n(443),r=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e.default=r.a},448:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.sources.length?n("div",{staticClass:"list-pane"},[n("div",{staticClass:"toolbar"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.sourceSelected,expression:"sourceSelected"}],staticClass:"form-control input-sm",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.sourceSelected=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:""}},[t._v(t._s(t.$t("Select a media source")))]),t._l(t.sources,function(e){return n("option",{domProps:{value:e}},[t._v(t._s(e.name))])})],2),t.sourceSelected?n("select",{directives:[{name:"model",rawName:"v-model",value:t.channelSelected,expression:"channelSelected"}],staticClass:"form-control input-sm",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.channelSelected=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:""}},[t._v(t._s(t.$t("Select a channel")))]),t._l(t.sourceSelected.get(),function(e){return n("option",{domProps:{value:e}},[t._v(t._s(e.name))])})],2):t._e()]),n("div",{ref:"list",staticClass:"list-wrap",class:{blur:t.loading}},[n("table",{staticClass:"table-condensed table table-hover"},[n("draggable",{attrs:{options:{group:{name:"tracks",pull:"clone",put:!1},sort:!1,handle:".drag-handle",forceFallback:!0,fallbackOnBody:!0},element:"tbody"},on:{start:function(e){t.fixDrag()}},model:{value:t.tracks,callback:function(e){t.tracks=e},expression:"tracks"}},t._l(t.tracks,function(e){return n("tr",{directives:[{name:"interact",rawName:"v-interact:doubletap",value:function(){t.addToPlayback(e)},expression:"() => { addToPlayback(track); }",arg:"doubletap"}],on:{contextmenu:function(n){n.preventDefault(),t.handleContextMenu(e)}}},[n("td",{staticStyle:{padding:"0"}}),n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.artists.map(function(t){return t.name}).join(", ")))]),e.duration?n("td",{staticStyle:{width:"46px"}},[t._v(t._s(t._f("formatDuration")(e.duration,"mm:ss")))]):n("td"),n("td",{staticClass:"drag-handle"},[n("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])])])}))],1)]),t.loading?n("vueLoading",{attrs:{type:"cylon",color:"#fff"}}):t._e()],1):n("vueLoading",{attrs:{type:"cylon",color:"#fff"}})},r=[];a._withStripped=!0,n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r})},458:function(t,e,n){(t.exports=n(3)(void 0)).push([t.i,"\n.list-pane[data-v-3c851d17] {\n  height: 100%;\n}\n.list-pane .toolbar[data-v-3c851d17] {\n    display: flex;\n    align-items: center;\n    padding-bottom: 6px;\n    box-shadow: inset 0 -2px 1px -1.5px rgba(0, 0, 0, 0.2);\n}\n.list-pane .toolbar select[data-v-3c851d17] {\n      width: 50%;\n}\n.list-pane .toolbar select option[data-v-3c851d17] {\n        color: #000;\n}\n.list-pane .list-wrap[data-v-3c851d17] {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: calc(100% - 36px);\n    margin-top: 36px;\n    box-shadow: inset 0 2px 1px -1.5px rgba(255, 255, 255, 0.2);\n    overflow: auto;\n    transition: filter .5s;\n}\n.list-pane .vue-loading[data-v-3c851d17] {\n    top: 36px;\n}\ntr[data-v-3c851d17] {\n  cursor: default;\n}\ntr.sortable-ghost[data-v-3c851d17] {\n    opacity: .5 !important;\n}\ntr td[data-v-3c851d17] {\n    word-wrap: break-word;\n    word-break: break-all;\n}\ntr td.drag-handle[data-v-3c851d17] {\n      width: 28px;\n      text-align: center;\n      cursor: move;\n      cursor: -webkit-grab;\n}\ntr td svg[data-v-3c851d17] {\n      width: 18px;\n      height: 18px;\n      fill: #fff;\n}\n.sortable-fallback[data-v-3c851d17] {\n  display: table;\n  position: absolute;\n  color: #fff;\n  opacity: .5;\n}\n.sortable-fallback td[data-v-3c851d17] {\n    padding: 5px;\n}\n.vue-loading[data-v-3c851d17] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n}\n.random-queue-box tr[data-v-3c851d17] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(51, 122, 183, 0.2);\n}\n.random-queue-box tr td[data-v-3c851d17] {\n    display: none;\n}\n",""])},459:function(t,e,n){"use strict";var a=n(442);n.n(a).a}}]);